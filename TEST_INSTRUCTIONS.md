# Инструкция по тестированию исправления расширений файлов

## Проблемы
1. Файлы при разархивации иногда сохранялись с расширением `.txt` вместо правильного (например, `.png`, `.pdf`, `.dmg`)
2. Служебные файлы macOS (`__MACOSX`, `._*`) извлекались и появлялись как поврежденные файлы

## Исправления
**Версия 2.7.2** включает следующие исправления:

1. **Правильные расширения файлов** (v2.7.1):
   - Использование `application/octet-stream` MIME-типа для всех скачиваний
   - Chrome теперь сохраняет файлы с оригинальными расширениями

2. **Фильтрация системных файлов** (v2.7.2):
   - Автоматическое исключение служебных файлов из отображения и извлечения
   - Фильтрация: `__MACOSX/`, `._*`, `Thumbs.db`, `Desktop.ini`, `.DS_Store`
   - Показ количества скрытых системных файлов в интерфейсе

## Как протестировать

1. Перезагрузите расширение в Chrome:
   - Откройте `chrome://extensions/`
   - Нажмите кнопку "Обновить" на карточке ZIPboost
   - Или выключите/включите расширение

2. Создайте тестовый ZIP-архив с различными типами файлов:
   - Изображения: `.png`, `.jpg`, `.gif`, `.svg`
   - Документы: `.pdf`, `.docx`, `.xlsx`
   - Бинарные: `.dmg`, `.exe`, `.apk`
   - Текстовые: `.txt`, `.md`, `.json`, `.js`

3. Откройте расширение и разархивируйте тестовый архив:
   - Кликните на иконку расширения
   - Перейдите на вкладку "View"
   - Перетащите ZIP-файл или выберите через диалог
   - Нажмите "Extract All"

4. Проверьте папку Downloads:
   - Все файлы должны быть с правильными расширениями
   - `.png` файлы должны открываться как изображения
   - `.pdf` файлы должны открываться в PDF viewer
   - Никакие файлы НЕ должны иметь расширение `.txt`
   - Файлы `__MACOSX` и `._*` НЕ должны извлекаться

5. Дополнительно протестируйте скачивание отдельных файлов:
   - Откройте ZIP в расширении
   - Нажмите "Download" на каждом файле
   - Проверьте, что расширения сохранены корректно

## Ожидаемый результат
1. Все файлы должны сохраняться с оригинальными расширениями, указанными в архиве
2. Служебные файлы macOS/Windows должны автоматически фильтроваться и не извлекаться
3. В интерфейсе должно отображаться сообщение о скрытых системных файлах (если они есть)

## Если проблема остается
Проверьте настройки Chrome:
- `chrome://settings/downloads` - убедитесь, что автоматическое сохранение включено
- Проверьте, нет ли блокировок от антивируса или firewall
